<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Foodify - Email Verification</title>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-auth-compat.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="verify-container">
        <h2>Verify Your Email</h2>
        <p>Please check your inbox and verify your email address.</p>
        <button id="check-verification-btn" class="btn primary-btn">I've Verified My Email</button>
    </div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyAIMi_uFxjXgcFtSpcx3QJjtWFHVGmOlHw",
            authDomain: "foodify-f0dc3.firebaseapp.com",
            projectId: "foodify-f0dc3",
            storageBucket: "foodify-f0dc3.appspot.com",
            messagingSenderId: "58325112653",
            appId: "1:58325112653:web:29db036a4ab62bb0188904",
            measurementId: "G-GL3MD09KR8"
        };
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();

        document.getElementById('check-verification-btn').addEventListener('click', () => {
            const user = auth.currentUser;
            if (user) {
                user.reload().then(() => {
                    if (user.emailVerified) {
                        alert('Email verified successfully!');
                        window.location.href = 'collect-details.html';
                    } else {
                        alert('Your email is not verified yet. Please check your inbox.');
                    }
                });
            } else {
                alert('No authenticated user found. Please sign up again.');
            }
        });
    </script>
</body>
</html>
